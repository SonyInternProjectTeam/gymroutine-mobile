//
//  TermsOfServiceView.swift
//  gymroutine-mobile
//
//  Created by AI Assistant on 2025/01/07.
//

import SwiftUI

struct TermsOfServiceView: View {
    @Environment(\.presentationMode) var presentationMode
    @State private var hasScrolledToBottom = false
    @State private var agreedToTerms = false
    
    let onAgree: () -> Void
    
    var body: some View {
        NavigationView {
            VStack(spacing: 0) {
                ScrollViewReader { proxy in
                    ScrollView {
                        VStack(alignment: .leading, spacing: 20) {
                            Text("利用規約&プライバシーポリシー")
                                .font(.title2)
                                .fontWeight(.bold)
                                .padding(.top)
                            
                            termsContent
                            
                            Text("コミュニティガイドライン")
                                .font(.title2)
                                .fontWeight(.bold)
                                .padding(.top)
                            
                            communityGuidelinesContent
                            
                            Text("プライバシーポリシー")
                                .font(.title2)
                                .fontWeight(.bold)
                                .padding(.top)
                            
                            privacyPolicyContent
                            
                            Spacer()
                                .id("bottom")
                        }
                        .padding(.horizontal, 20)
                        .padding(.bottom, 100)
                    }
                    .onAppear {
                        // Scroll to bottom automatically to ensure user sees full content
                        // DispatchQueue.main.asyncAfter(deadline: .now() + 0.5) {
                        //     withAnimation(.easeInOut(duration: 1.0)) {
                        //         proxy.scrollTo("bottom", anchor: .bottom)
                        //     }
                        // }
                    }
                    .onChange(of: hasScrolledToBottom) { _, _ in
                        // Enable agreement checkbox when user has scrolled to bottom
                    }
                }
                
                // Agreement section
                VStack(spacing: 16) {
                    HStack {
                        Button(action: {
                            agreedToTerms.toggle()
                        }) {
                            Image(systemName: agreedToTerms ? "checkmark.square.fill" : "square")
                                .foregroundColor(agreedToTerms ? .blue : .gray)
                                .font(.title2)
                        }
                        
                        Text("上記の利用規約、コミュニティガイドライン、プライバシーポリシーに同意します")
                            .font(.footnote)
                            .multilineTextAlignment(.leading)
                        
                        Spacer()
                    }
                    .padding(.horizontal, 20)
                    
                    Button(action: {
                        onAgree()
                        presentationMode.wrappedValue.dismiss()
                    }) {
                        Text("同意して続行")
                            .font(.headline)
                            .foregroundColor(.white)
                            .frame(maxWidth: .infinity)
                            .padding()
                            .background(agreedToTerms ? Color.blue : Color.gray)
                            .cornerRadius(10)
                    }
                    .disabled(!agreedToTerms)
                    .padding(.horizontal, 20)
                }
                .padding(.bottom, 20)
                .background(Color(UIColor.systemBackground))
            }
            .navigationBarTitleDisplayMode(.inline)
            .navigationBarItems(
                leading: Button("キャンセル") {
                    presentationMode.wrappedValue.dismiss()
                }
            )
        }
    }
    
    private var termsContent: some View {
        VStack(alignment: .leading, spacing: 16) {
            Text("利用規約")
                .font(.title2)
                .fontWeight(.bold)
            
            Text(
"""
この利用規約（以下「本規約」といいます。）は趙聖化（以下、「当方」といいます。）が提供するサービスの利用条件を定めるものです。登録ユーザーの皆さま（以下、「ユーザー」といいます。）には、本規約に従って、本サービスをご利用いただきます。
""")
                .font(.body)
            
            Text("第1条（定義）")
                .font(.headline)
            Text(
"""
本規約において使用する用語の定義は以下の通りとします。
　A.　「GymLinker」（以下、「本サービス」といいます。）とは、当方が提供するアプリケーションおよび関連サービスをいいます。
　B.　「ユーザー」とは、本サービスをダウンロードおよび利用開始し、当方の利用規約に同意した個人をいいます。また、必要に応じて、当方が定めた方法により追加の利用登録手続きを行った者を含みます。
　C.　「個別規約」とは、本サービスの利用に関して、当方が別途定める規約をいいます。
　D.　「個人情報」とは、ユーザー個人に関する情報であって、当該情報を構成する年齢、メールアドレス、性別、生年月日、運動記録、運動結果、パフォーマンスデータ、身体データ（身長、体重、体脂肪率等）、及びユーザーが利用するその他の識別子（アプリ内で使用されるニックネーム、端末識別子、IPアドレスなど）により当該ユーザー個人を識別できる情報をいいます。
""")
                .font(.body)
            
            Text("第2条（規約の適用）")
                .font(.headline)
            Text(
"""
本規約は、当方が提供するサービスである本サービスの利用に対して適用されます。以下、本サービスを利用する者を「ユーザー」といいます。
利用規約に同意しない限り、ユーザーは本サービスを利用することができません。
ユーザーは、利用規約の定めに従って、本サービスを利用するものとします。
当方が提供する個別のサービスについて別途定める規約も、本規約の一部を構成するものとします。
本規約と個別規約の定めが異なる場合、個別規約が優先して適用されるものとします。
""")
                .font(.body)
            
            Text("第3条（本規約の変更）")
                .font(.headline)
            Text(
"""
当方は、本サービスの運営上の都合その他当方が必要と判断する場合には、随時、本規約を変更することができます。この場合に、本サービスの利用条件は、変更後の本規約によるものとします。
変更後の本規約は、当方が別途定める場合を除き、当方が本サービス上に表示した時点より効力を生じるものとします。
ただし、ユーザーに重大な影響を与える変更の場合、当方は、効力発生に先立ち、相当な期間を設けて、変更内容および効力発生時期を本サービス内への掲示、プッシュ通知、メール等の当方が適当と判断する方法により事前に通知します。当該変更後、ユーザーが本サービスを継続して利用した場合、または所定の同意手続きを行った場合、ユーザーは、変更後の本規約に同意したものとみなします。
""")
                .font(.body)
            
            Text("第4条（通知または連絡）")
                .font(.headline)
            Text(
"""
本サービスに関する当方からユーザーへの連絡または通知は、本サービス内への掲示、プッシュ通知、電子メール、その他当方が適当と判断する方法により行います。
前項の連絡または通知が登録事項に含まれるメールアドレスその他の連絡先宛に行われた場合、当該連絡または通知は、ユーザーが受領した時点または当方が当該連絡または通知を発信した時点のいずれか早い方に効力を生じるものとします。
本規約の変更に関する通知、その他ユーザーに重大な影響を及ぼす当方からの連絡または通知については、当方は、前項の定めに加え、効力発生に先立ち、相当な期間を設けて、変更内容および効力発生時期を本サービス内への掲示、プッシュ通知、電子メール等の当方が適当と判断する方法により事前に通知します。
本サービスに関するユーザーから当方への連絡は、本サービス内に設置する「お問い合わせフォーム」を通じて行うものとします。
""")
                .font(.body)

            Text("第5条（本サービスの利用）")
                .font(.headline)
            Text(
"""
ユーザーは、本サービスの利用にあたり、本規約を遵守するものとします。
本サービスの内容は、ユーザーによるワークアウトの記録・計画、運動結果の分析とパフォーマンス管理、カレンダー表示によるルーティン管理、他のユーザーの運動分析データの閲覧、その他当方が提供する各種機能である。
ユーザーは、当方が別途定める本サービスの利用に関するガイドラインその他のガイドライン、当方からの通知を確認・理解した上で、これらに従って本サービスを利用するものとします。
当方は、当方が必要と考える場合、本サービスの内容を自由に変更することができるものとし、ユーザーはこれを了承した上で、本サービスを利用するものとします。
""")
                .font(.body)

            Text("第6条（本サービス利用条件）")
                .font(.headline)
            Text(
"""
ユーザーは、本サービスを利用するに際し、情報端末（デバイス）、通信機器・手段、電力等をユーザー自らの責任と負担で準備・用意し、本サービス利用中は維持しなければならないものとします。
ユーザーは、当方が定める仕様基準（対応するOS、性能、機能等を含みますが、これらに限られません）に従わない限り、本サービスを利用できない場合があることを予め了承します。
""")
                .font(.body)

            Text("第7条（登録）")
                .font(.headline)
            Text(
"""
本サービスへの登録を希望する者（以下、「登録希望者」といいます。）は、本規約を遵守することに同意し、かつ当方の定める一定の情報（以下、「登録事項」といいます。）を当方の定める方法で当方に提供することにより、当方に対し、本サービスへの登録を申請することができます。
登録希望者が未成年者である場合、法定代理人（親権者など）の同意を得た上で登録するものとします。当方は、登録申請の際またはその後に、法定代理人の同意を確認するため、同意書の提出や法定代理人の連絡先への確認を行う場合がございます。法定代理人の同意が確認できない場合、当方は登録を拒否し、または登録を取り消すことができるものとします。
当方は、登録希望者またはユーザーが、過去に当方との契約に違反した者、または本サービスを悪用したり、第三者に迷惑をかけたりする行為を行った者と判断した場合、ならびに反社会的勢力等（暴力団、暴力団員、右翼団体、反社会的勢力、その他これに準ずる者を意味します。以下同じ。）の構成員である、または資金提供その他を通じて反社会的勢力等の維持、運営もしくは経営に協力もしくは関与する等、反社会的勢力等との何らかの交流もしくは関与を行っていると当方が判断した場合、ご利用をお断りします。
当方は、当方の基準に従って、第1項に基づいて登録申請を行った登録希望者（以下「登録申請者」といいます。）の登録の可否を判断し、当方が登録を認める場合にはその旨を登録申請者に通知します。登録申請者の登録ユーザーとしての登録は、当方が本項の通知を行ったことをもって完了したものとします。
前項に定める登録の完了時に、サービス利用契約が登録ユーザーと当方の間に成立し、登録ユーザーは本規約に従い利用することができるようになります。
当方は、登録申請者が、以下の各号のいずれかの事由に該当する場合は、登録及び再登録を拒否することがあり、またその理由について一切開示義務を負いません。
　A.　当方に提供した登録事項の全部または一部につき虚偽、誤記または記載漏れがあった場合
　B.　未成年者、成年被後見人、被保佐人または被補助人のいずれかであり、法定代理人、後見人、保佐人または補助人の同意等を得ていなかった場合
　C.　前項に定める反社会的勢力等に該当する場合
　D.　第20条（利用制限および登録抹消）に定める措置を受けたことがある場合
　E.　その他、登録を適当でないと当方が判断した場合
ユーザーは、本サービスにおいて、1人につき1つのアカウントを保有するものとします。1人が複数のアカウントを保有すること、複数人が1つのアカウントを共同して保有することはできません。
ユーザーは、本利用登録を抹消すること（以下「退会」といいます。）を希望する場合は、当方指定の退会手続を行うものとします。
""")
                .font(.body)

            Text("第8条（登録事項の変更）")
                .font(.headline)
            Text(
"""
登録した登録情報に変更が生じた場合には、ユーザーは速やかに当方指定の変更手続きを行うものとします。
""")
                .font(.body)

            Text("第9条（パスワード及びユーザーIDの管理）")
                .font(.headline)
            Text(
"""
登録ユーザーは、自己の責任において、本サービスに関する認証用メールアドレス及びパスワード等を適切に管理及び保管するものとし、これを第三者に利用させ、または貸与、譲渡、名義変更、売買等をしてはならないものとします。
認証用メールアドレス及びパスワード等の管理不十分、使用上の過誤、第三者の使用等によって生じた損害に関する責任は登録ユーザーが負うものとします。
""")
                .font(.body)
            
            Text("第10条（禁止行為）")
                .font(.headline)
            Text(
"""
ユーザーは、本サービスを利用して、次の行為（以下「禁止行為」といいます。）を行わないものとします。
禁止行為に該当する又は該当するおそれがあると当方が判断した場合、ユーザーの本サービスの以後の利用を禁止するものとします。当方は、本条に基づき当方が行った措置に基づきユーザーに損害が生じた場合でも、一切の責任を負わないものとし、ユーザーはこれを了承します。
　A.　法令または公序良俗に違反する行為
　B.　犯罪行為に関連する行為
　C.　当方のサーバーまたはネットワークの機能を破壊したり、妨害したりする行為
　D.　当方のサービスの運営を妨害するおそれのある行為
　E.　当方サービスの情報を改ざん・消去する行為
　F.　当方、他のユーザー、第三者の権利を侵害、またはそのおそれがある行為
　G.　当方、他のユーザー、第三者を誹謗中傷し、名誉ならびに信頼を毀損、またはそのおそれがある行為
　H.　当方、他のユーザー、第三者に不利益を与える、またはそのおそれがある行為
　I.　他のユーザーに関する個人情報等を、他のユーザーの同意なく収集または蓄積する行為
　J.　他のユーザーに成りすます行為
　K.　当方の事前の承諾なく、本サービスの内容を転載・複製・修正・転送する行為
　L.　当方のサービスに関連して、反社会的勢力に対して直接または間接に利益を供与する行為
　M.　その他、当方が不適切と判断する行為
　N.　当方のウェブサイトや本サービスを通じて取得可能なデータ（他のユーザーの運動分析データを含みます。）を、クロール、スクレイピングその他の自動的な手段により収集、解析する行為
""")
                .font(.body)

            Text("第11条（不適切な情報に関する通報）")
                .font(.headline)
            Text(
"""
ユーザーは、本サービス上の情報（当方が提供する情報、他のユーザーが公開する運動分析データ、ユーザー自身が登録したプロフィール情報等を含みます。）が、本規約または法令に違反するおそれがあると判断した場合には、当方所定の方法に従い、当方に通報することができるものとします。
当方は、前項の定めに基づく通報を受けた場合、当方の裁量に基づき、当該通報の内容が事実であるかの確認を行い、通報の対象となった情報に関する措置（表示停止、削除等）を講じることができるものとします。
前二項の定めは、当方に対し、ユーザーによる通報に応対する義務を負わせるものではありません。
""")
                .font(.body)

            Text("第12条（本サービスの停止等)")
                .font(.headline)
            Text(
"""
当方は、以下のいずれかに該当する場合には、ユーザーに事前に通知することなく、本サービスの全部または一部の提供を停止または中断することができるものとします。
　A.　本サービスに係るコンピューター・システムの点検または保守作業を緊急に行う場合
　B.　コンピューター、通信回線等の障害、誤操作、過度なアクセスの集中、不正アクセス、ハッキング等により本サービスの運営ができなくなった場合
　C.　地震、落雷、火災、風水害、停電、天災地変などの不可抗力により本サービスの運営ができなくなった場合
　D.　その他、当方が停止または中断を必要と判断した場合
当方は、本条に基づき当方が行った行為により、ユーザーまたは第三者に生じた損害について、当方の故意または重過失による場合を除き、一切の責任を負いません。
""")
                .font(.body)

            Text("第13条（本サービスの内容の変更・終了）")
                .font(.headline)
            Text(
"""
当方は、当方の都合により、本サービスの内容を変更し、または提供を終了することができます。
当方が本サービスの提供を終了する場合、本サービス上または当方の運営するウェブサイト上への掲示その他当方が適当と判断する方法でユーザーに通知するものとします。
当方は本サービスの終了によりユーザーに生じた損害について、当方の故意または重過失による場合を除き、一切の責任を負いません。
""")
                .font(.body)

            Text("第14条（利用規約の変更）")
                .font(.headline)
            Text(
"""
当方は以下の場合には、ユーザーの個別の同意を要せず、本規約を変更することができるものとします。
　A.　本規約の変更がユーザーの一般の利益に適合するとき。
　B.　本規約の変更が本サービス利用契約の目的に反せず、かつ、変更の必要性、変更後の内容の相当性その他の変更に係る事情に照らして合理的なものであるとき。
当方はユーザーに対し、前項による本規約の変更にあたり、事前に、本規約を変更する旨及び変更後の本規約の内容並びにその効力発生時期を通知します。
""")
                .font(.body)

            Text("第15条（個人情報の取扱い）")
                .font(.headline)
            Text(
"""
当方によるユーザーの個人情報の取扱いについては、別途当方プライバシーポリシーの定めによるものとし、ユーザーはこのプライバシーポリシーに従って当方がユーザーの個人情報を取扱うことについて同意するものとします。
""")
                .font(.body)

            Text("第16条（権利帰属）")
                .font(.headline)
            Text(
"""
本サービスのコンテンツならびに情報の財産権は当方に帰属します。
本サービスまたは広告に掲載・提供されているコンテンツは、著作権法、商標法、意匠法などにより保護されています。
本サービスおよび本サービスに関連して使用されているソフトウェアは、知的財産権に関する法令などにより保護されている財産権および営業秘密を含んでいます。
""")
                .font(.body)

            Text("第17条（本サービスの利用を通じて生成または提供されるデータの取り扱い）")
                .font(.headline)
            Text(
"""
ユーザーは、本サービスの利用を通じて生成または提供されるデータ（個人情報を含まない各種ライフログ、運動記録、パフォーマンスデータ、利用者提供メニューを構成する一連の情報を含みますが、これらに限りません。以下「ユーザーデータ」といいます。）について、当方に対し、以下の権利を無償で非独占的に許諾するものとします。ユーザーは、当方および当方から許諾を受けた第三者に対し、著作者人格権を行使しないものとします。本条に定める許諾および不行使は、利用契約が事由の如何を問わず終了した後も存続するものとします。
　A.　本サービスの提供、維持、改善、プロモーションに必要な範囲での複製、公開、送信、頒布、譲渡、貸与、翻訳、翻案
　B.　当方が運営するウェブサイト、その他のサービス、広告媒体等において、本サービスの宣伝、紹介、または当方事業の円滑な実施を目的とした利用（要約、抜粋、サイズ変更、切り抜き等の改変を含みます）
ユーザーデータおよびメッセージ、ユーザーによるサービスの利用・接続・本規約違反、ユーザーによる第三者への権利侵害に起因または関連して発生したすべてのクレームや請求について、ユーザーの費用と責任で解決するものとします。
前項のクレームや請求への対応に関連して当方に費用が発生した場合、または賠償金などの支払いを行った場合は、当該費用および賠償金、当方が支払った弁護士費用等を当該ユーザーの負担とし、当方は当該ユーザーにこれらの合計金額の支払いを請求できるものとします。
""")
                .font(.body)

            Text("第18条（利用制限および登録抹消）")
                .font(.headline)
            Text(
"""
当方は、登録ユーザーが、以下の各号のいずれかの事由に該当する場合、またはそのおそれがあると当方が合理的に判断する場合、原則として事前に通知または催告を行うことにより、登録情報やユーザーデータを削除もしくは非表示にし、当該登録ユーザーについて本サービスの利用を一時的に停止し、または登録ユーザーとしての登録を抹消することができます。ただし、緊急を要する場合、法令に違反するおそれが明白な場合、またはユーザーの行為により当方や他のユーザーに著しい損害が発生するおそれがある場合等、事前に通知を行うことが困難または不適切と当方が判断した場合は、通知を行うことなくこれらの措置を講じることがあります。
　A.　本規約のいずれかの条項に違反した場合
　B.　登録事項に虚偽の事実があることが判明した場合
　C.　第11条（禁止行為）に該当する場合
　D.　その他、当方が本サービスの利用または登録ユーザーとしての登録の継続を適当でないと判断した場合
前項各号のいずれかの事由に該当した場合、登録ユーザーは、当方に対して負っている債務の一切について当然に期限の利益を失い、直ちに当方に対して全ての債務の支払を行わなければなりません。
理由の如何を問わず、登録ユーザーが本サービスを利用する権利を失った場合、本サービスに関するデジタルコンテンツも同時に利用できなくなることを登録ユーザーはあらかじめ承諾するものとします。
当方は、本条に基づき当方が行った行為によりユーザーに生じた損害について、当方の故意または重過失による場合を除き、一切の責任を負いません。
""")
                .font(.body)

            Text("第19条（非保証）")
                .font(.headline)
            Text(
"""
当方は、本サービスを通じて提供される情報（ユーザーが登録する情報を含みます。）について、正確性、完全性、有効性、信頼性、安全性、適法性、特定の目的への適合性、セキュリティに関する欠陥・エラー・バグがないことにつき、明示的にも黙示的にも一切保証を行いません。
本サービスから他のウェブサイトへのリンク又は他のウェブサイトから本サービスへのリンクが提供されている場合でも、当方は、当該ウェブサイト及びそこから得られる情報に関して如何なる理由に基づいても一切の責任を負いません。
本サービス利用の際に発生した、電話会社又は各種通信業者より請求される接続に関する費用は、ユーザーが自己責任において管理するものとし、当方は、いかなる保証も行わないものとします。
当方はユーザーに対し、本条にかかる一切の不具合について、当方の責任と負担で当該不具合の解消を行うことを保証しません。
""")
                .font(.body)

            Text("第20条（免責事項）")
                .font(.headline)
            Text(
"""
当方の債務不履行責任は、当方の故意または重過失によらない場合には免責されるものとします。
当方は、本サービスの利用により発生したユーザーの損害については、当方の故意または重過失による場合を除き、一切の賠償責任を負いません。
不具合やエラーによって本サービスを利用できないことに起因する損害について、当方は、当方の故意または重過失による場合を除き、一切の賠償責任を負いません。
当方は、本サービスに関して、ユーザーと他のユーザーまたは第三者との間において生じた取引、連絡または紛争等について、当方の故意または重過失による場合を除き、一切責任を負いません。
ユーザーが本サービスを利用することによって第三者に対して損害を与えた場合、ユーザーは自己の費用と責任においてこれを賠償するものとします。
当方は、本規約に明示的に定めがある場合を除き、本サービスを通じて提供する情報、ユーザーが登録する情報に関して、当方の故意または重過失による場合を除き、一切の責任を負わないものとします。
""")
                .font(.body)

            Text("第21条（損害賠償の請求）")
                .font(.headline)
            Text(
"""
ユーザーによる本規約違反行為その他本サービスの利用に起因して、当方に直接または間接の損害が生じた場合（当該行為が原因で、当方が第三者から損害賠償請求その他の請求を受けた場合を含みます。）、ユーザーは当方に対して、そのすべての損害（弁護士等専門家費用及び当方において対応に要した人件費相当額を含みます。）を賠償しなければなりません。
当方の故意又は重大な過失によりユーザーが損害を被った場合、当方は当方の行為から直接生じた損害の実額を限度として賠償することがあります。
""")
                .font(.body)

            Text("第22条（権利義務の譲渡の禁止）")
                .font(.headline)
            Text(
"""
ユーザーは本サービスの利用契約上の地位または本規約に基づく権利もしくは義務を第三者に譲渡、共有、売買、名義変更、または担保に供することはできません。
当方は本サービスに係る事業を他社に譲渡した場合には、当該事業譲渡に伴い利用契約上の地位、本規約に基づく権利及び義務並びに登録ユーザーの登録事項その他の顧客情報を当該事業譲渡の譲受人に譲渡することができるものとし、ユーザー及び登録ユーザーは、かかる譲渡につき本項において予め同意したものとします。なお、本項に定める事業譲渡には、通常の事業譲渡のみならず、合併、会社分割等のM&A、その他事業が移転するあらゆる場合を含みます。
""")
                .font(.body)

            Text("第23条（自己責任の原則）")
                .font(.headline)
            Text(
"""
ユーザーは、本サービスを利用してなされた行為とその結果について一切の責任を負います。
ユーザーは、本サービスを利用してなされた行為に起因して、当方または第三者に対して損害を与えた場合、自己の責任と費用をもって損害を賠償するものとします。
""")
                .font(.body)

            Text("第24条（退会）")
                .font(.headline)
            Text(
"""
登録ユーザーは、当方所定の手続の完了により、本サービスから退会し、自己の登録ユーザーとしての登録を抹消することができます。
退会にあたり、当方に対して負っている債務が有る場合は、登録ユーザーは、当方に対して負っている債務の一切について当然に期限の利益を失い、直ちに当方に対して全ての債務の支払を行わなければなりません。
退会後の利用者情報の取扱いについては、別途当方プライバシーポリシーの定めによるものとします。
""")
                .font(.body)

            Text("第25条（秘密保持）")
                .font(.headline)
            Text(
"""
ユーザーは、本サービスに関連して当方がユーザーに対して秘密に取扱うことを求めて開示した非公知の情報について、当方の事前の書面による承諾がある場合を除き、秘密に取扱うものとします。
""")
                .font(.body)

            Text("第26条（業務提携・広告）")
                .font(.headline)
            Text(
"""
本サービスは、当方の業務提携先（以下「提携パートナー」といいます。）を介して提供されることがあります。この場合、提携パートナーの定める利用規約と本規約が重畳的に適用されます。ただし、ユーザーと当方間の権利義務については本規約が優先して適用されます。
本サービスのサイト中の提携パートナー・広告主との取引は、ユーザーと提携パートナー・広告主の責任において行うものとします。当方はサービス中に掲載されている情報によって行われる取引に起因する損害については一切責任を負いません。
当方は、本サービスに関し、原則として情報の伝達のみを行うものとし、本サービスに関する情報の作成、本サービス以外の特定のサービス等の勧誘・募集・推奨・営業活動または契約等の締結等の行為は行いません。
当方は、本サービスにつき、ウェブサイトから提携パートナーに送信する情報が提携パートナーに到達することに関し一切保証いたしません。また提携パートナーからユーザーへの情報提供が行われることに関しましても一切保証いたしません。
当方は、ユーザーが提携パートナーに行った、本サービス以外の特定のサービスに関する申込み、または申込みのキャンセルを代行することはいたしません。
本条の各項の事項については、提携パートナーとユーザーとの間で交渉・解決していただくものとし、これらの事項に関する電話・訪問・電子メール等によるお問い合わせに当方が応じることはできません。
""")
                .font(.body)

            Text("第27条（反社会的勢力等への対応）")
                .font(.headline)
            Text(
"""
ユーザーは、本規約の有効期間中、反社会的勢力等に該当しないこと及び反社会的勢力等と関係を持たないことを表明し保証します。
ユーザーは、当方又は他のユーザーその他の第三者に対し次の各号の一に該当する行為を行ってはなりません。
　A.　脅迫的、暴力的又は法的な責任を超えた要求
　B.　風説を流布し、偽計を用い又は威力を用いた信用毀損又は業務妨害
　C.　その他、前各号に類似するいかなる行為
ユーザーが第1項又は第2項に違反していることが判明した場合は、当方は当該ユーザーの登録情報やユーザーデータを削除し、当該ユーザーによる本サービスの使用を停止することができます。
ユーザーは、前項の規定により本サービスの使用を停止された場合、当方に対して何らの損害賠償ないし補償を請求することはできず、また当方に損害が生じたときはその損害を賠償するものとします。
""")
                .font(.body)

            Text("第28条（分離可能性）")
                .font(.headline)
            Text(
"""
本規約のいずれかの条項又はその一部が、消費者契約法その他の法令等により無効又は執行不能と判断された場合であっても、本規約の残りの規定及び一部が無効又は執行不能と判断された規定の残りの部分は、継続して完全に効力を有するものとします。
""")
                .font(.body)

            Text("第29条（言語）")
                .font(.headline)
            Text(
"""
利用規約が日本語と日本語以外の言語にて作成された場合、当該利用規約の言語間での矛盾又は相違が生じた場合は、全ての点において日本語を優先するものとします。
""")
                .font(.body)

            Text("第30条（準拠法）")
                .font(.headline)
            Text(
"""
本規約の解釈にあたっては、日本法を準拠法とします。
""")
                .font(.body)

            Text("第31条（管轄裁判所）")
                .font(.headline)
            Text(
"""
本サービスに関して紛争が生じた場合には、その訴額に応じて、神戸地方裁判所または神戸簡易裁判所を第一審の専属的合意管轄裁判所とすることとします。
""")
                .font(.body)
            
            Text("最終更新")
                .font(.headline)
            Text("【2025年5月27日】")
                .font(.body)
                .foregroundColor(.secondary)
        }
    }
    
    private var communityGuidelinesContent: some View {
        VStack(alignment: .leading, spacing: 16) {
            Text("不適切なコンテンツに対するゼロトレランス")
                .font(.headline)
                .foregroundColor(.red)
            
            Text("当アプリは、以下の内容に対して一切の寛容を示しません：")
                .font(.body)
                .fontWeight(.semibold)
            
            VStack(alignment: .leading, spacing: 8) {
                Text("• ヘイトスピーチや差別的表現")
                Text("• ハラスメントやいじめ")
                Text("• 暴力的または脅迫的な内容")
                Text("• 性的に不適切な内容")
                Text("• スパムや迷惑行為")
                Text("• 虚偽情報の拡散")
                Text("• 著作権侵害")
            }
            .font(.body)
            .padding(.leading, 16)
            
            Text("報告とモデレーション")
                .font(.headline)
            Text("• 不適切なコンテンツを発見した場合は、すぐに報告してください\n• 報告されたコンテンツは24時間以内にレビューされます\n• 違反が確認された場合、警告またはアカウント停止の措置を取ります")
                .font(.body)
            
            Text("コミュニティへの貢献")
                .font(.headline)
            Text("• 建設的で支援的なコミュニティの構築にご協力ください\n• 他のユーザーのフィットネス目標を尊重し、励ましてください\n• 安全で包括的な環境の維持にご協力ください")
                .font(.body)
        }
    }
    
    private var privacyPolicyContent: some View {
        VStack(alignment: .leading, spacing: 16) {
            Text("プライバシーポリシー")
                .font(.title2)
                .fontWeight(.bold)
            
            Text(
"""
趙聖化（以下「当方」といいます。）は、弊社が提供するサービスにおけるユーザーの個人情報の取扱いについて、以下のとおりプライバシーポリシー（以下「本ポリシー」といいます。）を定めます。

本サービスの利用に際しては、本ポリシーの全文をお読みいただいた上で、本ポリシーに同意していただく必要があります。
""")
                .font(.body)
            
            Text("第1条（個人情報の定義）")
                .font(.headline)
            Text(
"""
GymLinker（以下、「本サービス」といいます。）では、個人情報について、ユーザー個人に関する情報であって、当該情報を構成する年齢、メールアドレス、性別、生年月日、運動記録、運動結果、パフォーマンスデータ、身体データ（身長、体重、体脂肪率等）、及びユーザーが利用するその他の識別子（アプリ内で使用されるニックネーム、端末識別子、IPアドレスなど）により当該ユーザー個人を識別できる情報をいいます。
""")
                .font(.body)

            Text("第2条（個人情報の適正な取得）")
                .font(.headline)
            Text(
"""
本サービスは、利用目的の達成に必要な個人情報を適正に取得し、偽りその他の不正の手段によって取得することはありません。
""")
                .font(.body)
            
            Text("第3条（事業者の名称・住所・代表者氏名）")
                .font(.headline)
            Text(
"""
事業者の名称：趙聖化
住　　　　所：〒650-0013　神戸市中央区花隈町33-23,804号
代表者氏名　：趙聖化
""")
                .font(.body)
            
            Text("第4条（個人情報の利用目的）")
                .font(.headline)
            Text(
"""
本サービスは、個人情報の取得に際して、お知らせした利用目的または以下の目的のために取得した情報を利用します。
なお、ご本人の同意がある場合及び個人情報保護法その他の個人情報に関する法令により認められる場合を除いては、この範囲を超えて個人情報を利用することはありません。
　A.　本サービスにおけるユーザーの個人認証
　B.　本サービスにおけるユーザーへのサービスの提供（ワークアウトの記録・計画、運動結果の分析とパフォーマンス管理、カレンダー表示によるルーティン管理、他のユーザーの運動分析データの閲覧機能の提供を含みます）
　C.　当方または提携する広告配信事業者、フィットネス関連企業等の第三者が、ユーザーの属性情報、運動データ、利用傾向に基づき、最適化された商品広告を本サービス内または外部のウェブサイト・アプリに配信または表示するため
　D.　本サービスによるサービスの向上等を目的としたアンケート、キャンペーンの実施、またはユーザー満足度向上のための調査
　E.　本サービスからのメールによる各種情報の無料提供、お問い合わせへの返答
　F.　利用規約に違反する態様、スパム行為、不正アクセス等の不正利用の防止
　G.　アクセス状況の把握、ニーズに適したサービスの提供ならびに改善（ユーザーの運動データや利用傾向の分析、本サービスの機能改善を含みます）
""")
                .font(.body)
            
            Text("第5条（個人情報の第三者提供）")
                .font(.headline)
            Text(
"""
本サービスは、以下に記載する場合を除き、原則として、ユーザーご本人の同意を得ずに個人情報を第三者に提供しません。
　A.　法令に基づく場合
　B.　人の生命、身体又は財産の保護のために必要がある場合であって、本人の同意を得ることが困難であるとき
　C.　公衆衛生の向上または児童の健全な育成の推進のために特に必要がある場合であって、本人の同意を得ることが困難であるとき
　D.　国の機関若しくは地方公共団体又はその委託を受けた者が法令の定める事務を遂行することに対して協力する必要がある場合であって、本人の同意を得ることにより当該事務の遂行に支障を及ぼすおそれがあるとき
　E.　利用目的の達成に必要な範囲内において、個人データの取扱いの全部又は一部を委託する場合
　F.　本サービスのサービス向上の目的で個人情報を集計及び分析により得られたものを、個人を識別又は特定できない態様（例：特定の個人が識別できないよう統計処理された運動量や回数の平均値など）にて提携先等第三者に開示又は提供する場合、または他のユーザーが閲覧可能な形で共有される場合
　G.　本サービスの全部または一部の営業譲渡が行われ、譲渡先に対して法的に権利義務一切が引き継がれる場合
""")
                .font(.body)

            Text("第6条（個人情報の安全管理）")
                .font(.headline)
            Text(
"""
本サービスは、個人情報の漏えい、減失又は毀損の防止その他の安全管理のための措置を講じるとともに、本サービスの従業員に対する教育を行い、個人情報保護を徹底します。
""")
                .font(.body)

            Text("第7条（個人情報の変更等）")
                .font(.headline)
            Text(
"""
ユーザーは、本サービスに対し、登録した個人情報が真実でない（追加・変更によって真実でなくなった場合を含みます。）という理由によって、その内容の変更・追加を請求することができ、本サービスは、当該請求がユーザー本人の請求であることを確認の上、必要な調査を行い、遅滞なくこれを追加・変更します。
ただし、本サービスが合理的理由に基づき、変更・追加を行わない場合、ユーザーに対してその旨を通知することとします。
また、ユーザーは、本サービスに対し、登録した個人情報の削除を請求することができ、本サービスは、当該請求がユーザー本人の請求であることを確認の上、当該ユーザーの請求に応じる必要があると判断した場合、これを削除します。
""")
                .font(.body)

            Text("第8条（個人情報の利用目的の通知、開示、利用停止等の求め）")
                .font(.headline)
            Text(
"""
本サービスは、利用目的の通知、個人情報又は第三者提供記録の開示、個人情報の利用停止若しくは消去、又は第三者への提供の停止について、下記のお問い合わせ窓口にて受け付けています。
ご本人からのお申出があった場合には、お申出いただいた方がご本人又はその代理人であることを確認のうえ、法令の定めに従い対応し、書面又はメールにて回答いたします。
なお、お申出が法令の定める要件を充たさない場合、又は、個人情報保護法その他の法令により、開示等を拒絶することが認められる事由がある場合には、お申出に添えないことがあります。
""")
                .font(.body)

            Text("第9条（お問い合わせ窓口）")
                .font(.headline)
            Text(
"""
開示等のお申出、ご意見、ご質問、苦情、その他個人情報の取り扱いに関するお問い合わせは、お問い合わせフォームよりご連絡ください。
""")
                .font(.body)

            Text("第10条（免責）")
                .font(.headline)
            Text(
"""
以下の場合は、第三者による個人情報の取得に関し、本サービスは何らの責任を負いません。
　A.　ユーザー自らが本サービス上の機能（他のユーザーへのデータ公開設定など）または別の手段を用いて、他のユーザーまたは第三者に個人情報を開示した場合
　B.　ユーザー自らが入力した情報またはその他のユーザーが入力した情報により、期せずして本人が特定できてしまった場合
　C.　ご本人以外のユーザーが個人を識別できる情報（ID、パスワード等）を入手した場合
""")
                .font(.body)
            
            Text("第11条（cookie（クッキー）等の使用）")
                .font(.headline)
            Text(
"""
本サービスは、より良いサービスを提供するため、cookieや広告識別子、ハッシュ化されたユーザー情報、アクセス履歴、端末やアプリの情報など（以下「cookie等」といいます）を使用することがあります。これらの情報は、単独で特定の個人を識別するものではありませんが、他の情報と組み合わせることにより個人を識別できる可能性があります。
また、cookie等の受け入れを希望しない場合は、ブラウザの設定で変更することができます。
cookieとは、サーバーコンピュータからユーザーのブラウザに送信され、ユーザーが使用しているコンピュータのハードディスクに蓄積される情報です。
また、当社サービスでは、当社が委託する広告配信事業者のサーバーからクッキー等を使用したターゲティング広告の配信が行われる場合があります。
これらの広告配信事業者がクッキー等を使用した広告配信を行っている場合には、自動的に取得された情報が広告配信事業者のサーバーに記録され、広告配信事業者のプライバシーポリシーのもとで管理されます。
各社のプライバシーポリシーおよびオプトアウトの手順については、以下の表から確認してください。
""")
                .font(.body)

            Text("第12条（端末識別子の使用）")
                .font(.headline)
            Text(
"""
本サービスは、iOS版・Android版アプリを利用するスマートデバイス端末から端末識別子（Apple社が発行するIDFAやGoogle社が発行するAAID等の広告識別子を含みます。）を取得し、広告の配信、広告効果の測定、および本サービスの改善のために使用することがあります。
""")
                .font(.body)

            Text("第13条（サービス内での行動情報の使用）")
                .font(.headline)
            Text(
"""
本サービスは、ユーザーが本サービスを利用されている際の検索条件や、トレーニング記録内容、設定内容、お問い合わせ内容など、お客様がサービス内で行った行動の情報を取得し使用することがあります。
""")
                .font(.body)

            Text("第14条（アクセスログ等の記録、開示）")
                .font(.headline)
            Text(
"""
本サービスは、本サービスを利用したユーザーのIPアドレス、当該IPアドレスからの本サービスへのアクセス日時等のアクセスログを記録することがあります。
本サービスは、ユーザーが開示に同意した場合、犯罪捜査など法律手続の中で開示を要請された場合又は消費者センター、弁護士会等の公的機関から正当な理由に基づき照会を受けた場合の他、本サービスになされた不正な行為等により損害を被ったと主張する第三者から開示を要請された場合において、当該行為を行ったユーザーの氏名、電子メールアドレスなどの個人情報及びアクセスログを開示することがあります。
""")
                .font(.body)

            Text("第15条（統計データの利用）")
                .font(.headline)
            Text(
"""
本サービスは、提供を受けた個人情報をもとに、個人を特定できない形式による統計データを作成し、当該データにつき何らの制限なく利用することができるものとします。
""")
                .font(.body)
            
            Text("第16条（プライバシーポリシーの変更）")
                .font(.headline)
            Text(
"""
当方は、法、規制または運用上の要件変更に応じて随時、本ポリシーを更新します。
かかる変更を行う場合には、法に従って、本サービス内への掲示、プッシュ通知、電子メール等の当方が適当と判断する方法により通知（変更の効力発生時を含みます）を行います。
かかる更新が行われ、ユーザーが更新の効力発生後も本サービスの利用を継続された場合には、ユーザーは変更を確認し（該当する場合）承諾したものとします。
本ポリシーの更新を承諾されない場合、本サービスの使用を解約することができます。
本ポリシーの直近の更新を確認するには、下記「最終更新」セクションをご参照ください。
""")
                .font(.body)
            
            Text("最終更新")
                .font(.headline)
            Text("【2025年5月27日】")
                .font(.body)
                .foregroundColor(.secondary)
        }
    }
}

#Preview {
    TermsOfServiceView(onAgree: {})
} 